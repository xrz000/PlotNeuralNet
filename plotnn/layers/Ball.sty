\ProvidesPackage{Ball}
\usepackage{ifthen}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%This Block can draw small Ball
%Elementwise or reduction operations can be drawn with this
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tikzset{Ball/.pic={\tikzset{/sphere/.cd,#1}	 	

\pgfmathsetmacro{\r}{\radius*\scale}

\shade[ball color=\fill,opacity=\opacity] (\r,0,0) circle (\r);
\draw (\r,0,0) circle [radius=\r] node[scale=4*\r] {\logo};

\coordinate (\name-anchor) at ( \r , 0  , 0) ;
\coordinate (\name) at ( \r , 0  , 0) ;
\coordinate (\name-east)   at ( 2*\r, 0  , 0) ;
\coordinate (\name-west)   at ( 0, 0  , 0) ;
\coordinate (\name-north)  at ( \r , \r , 0) ;
\coordinate (\name-south)  at ( \r , -\r, 0) ;

\ifthenelse{\equal{\caption}{}}{}{
    \path (\name-south) + (0,-20pt) coordinate (caption-node) 
    edge ["\textcolor{black}{\bf \caption}"'] (caption-node); %Ball caption
}

},
/sphere/.search also={/tikz},
/sphere/.cd,
radius/.store       in=\radius,
scale/.store        in=\scale,
caption/.store      in=\caption,
name/.store         in=\name,
fill/.store         in=\fill,
logo/.store         in=\logo,
opacity/.store      in=\opacity,
logo=$\Sigma$,
fill=,
opacity=0.10,
scale=0.2,
radius=0.5,
caption=,
name=,
}
